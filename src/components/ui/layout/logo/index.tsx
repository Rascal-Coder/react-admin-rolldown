import { useSidebar } from "@/components/ui/layout/resizable-sidebar";
import { cn } from "@/utils";
import type { LogoProps } from "./types";

const LogoSvg = ({
  width = 35,
  height = 35,
  className,
}: {
  width?: number;
  height?: number;
  className?: string;
}) => (
  <svg
    className={className}
    height={height}
    viewBox="0 0 894.2333244751529 1000.0000000000001"
    width={width}
    xmlns="http://www.w3.org/2000/svg"
  >
    <title>Bug Admin Logo</title>
    <defs />
    <path
      d="M 220.62918571429 398.42074285714 C 216.72918571429 405.12074285714 208.12918571429 407.42074285714 201.42918571429 403.62074285714 L 115.62918571429 354.02074285714 L 115.62918571429 377.52074285714 C 115.62918571429 388.82074285714 123.62918571429 402.62074285714 133.42918571429 408.32074285714 L 266.02918571429 484.92074285714 C 275.82918571429 490.52074285714 291.82918571429 490.52074285714 301.52918571429 484.92074285714 L 348.02918571429 458.02074285714 L 220.72918571429 384.52074285714 C 223.02918571429 388.72074285714 223.22918571429 394.02074285714 220.62918571429 398.42074285714 Z"
      fill="#6f6b6b"
      transform="matrix(1.8602179112410313 0 0 1.8602179112410313 -80.77446186553286 -59.87116662237578)"
    />
    <path
      d="M 309.42918571429 365.62074285714 C 305.52918571429 372.32074285714 296.92918571429 374.62074285714 290.22918571429 370.82074285714 L 115.52918571429 269.92074285714 L 115.52918571429 306.92074285714 L 362.52918571429 449.52074285714 L 420.72918571429 415.92074285714 L 309.42918571429 351.62074285714 C 311.82918571429 355.92074285714 312.02918571429 361.22074285714 309.42918571429 365.62074285714 Z"
      fill="#6f6b6b"
      transform="matrix(1.8602179112410313 0 0 1.8602179112410313 -80.77446186553286 -59.87116662237578)"
    />
    <path
      d="M 399.42918571429 333.52074285714 C 395.52918571429 340.22074285714 386.92918571429 342.52074285714 380.22918571429 338.72074285714 L 131.22918571429 194.92074285714 C 122.82918571429 200.92074285714 116.22918571429 212.72074285714 115.62918571429 222.92074285714 L 435.32918571429 407.52074285714 C 444.52918571429 401.52074285714 451.92918571429 388.32074285714 451.92918571429 377.52074285714 L 451.92918571429 349.82074285714 L 399.52918571429 319.52074285714 C 401.82918571429 323.82074285714 402.02918571429 329.02074285714 399.42918571429 333.52074285714 Z"
      fill="var(--colors-palette-primary-default)"
      transform="matrix(1.8602179112410313 0 0 1.8602179112410313 -80.77446186553286 -59.87116662237578)"
    />
    <path
      d="M 373.32918571429 234.42074285714 C 369.42918571429 241.12074285714 360.82918571429 243.42074285714 354.12918571429 239.62074285714 L 203.92918571429 152.92074285714 L 171.92918571429 171.42074285714 L 452.02918571429 333.12074285714 L 452.02918571429 265.92074285714 L 373.52918571429 220.62074285714 C 375.72918571429 224.72074285714 375.92918571429 229.92074285714 373.32918571429 234.42074285714 Z"
      fill="var(--colors-palette-primary-default)"
      transform="matrix(1.8602179112410313 0 0 1.8602179112410313 -80.77446186553286 -59.87116662237578)"
    />
    <path
      d="M 451.92918571429 224.32074285714 C 451.92918571429 213.02074285714 443.92918571429 199.22074285714 434.12918571429 193.52074285714 L 301.52918571429 117.02074285714 C 291.72918571429 111.42074285714 275.72918571429 111.42074285714 266.02918571429 117.02074285714 L 244.62918571429 129.32074285714 L 451.92918571429 249.02074285714 L 451.92918571429 224.32074285714 Z"
      fill="var(--colors-palette-primary-default)"
      transform="matrix(1.8602179112410313 0 0 1.8602179112410313 -80.77446186553286 -59.87116662237578)"
    />
  </svg>
);

const Logo = ({
  animate,
  className,
  url,
  title = "Bug Admin",
  showTitle = true,
  onClick,
  width = 35,
  height = 35,
}: LogoProps) => {
  const { state: sidebarState } = useSidebar();
  const isTitleVisible = sidebarState === "expanded" && showTitle;
  const content = (
    <>
      {url ? (
        <img
          alt="logo"
          className={`object-contain ${animate ? "animate-rotate" : ""}`}
          height={height}
          src={url}
          width={width}
        />
      ) : (
        <LogoSvg
          className={cn("object-contain", animate && "animate-rotate")}
          height={height}
          width={width}
        />
      )}
      <h2
        className={cn(
          "w-0 truncate font-medium text-lg transition-all duration-500 ease-out",
          "-translate-x-2 opacity-0",
          isTitleVisible
            ? "pointer-events-auto w-auto translate-x-0 opacity-100"
            : "pointer-events-none -translate-x-2 overflow-hidden"
        )}
      >
        {title}
      </h2>
    </>
  );

  return (
    <button
      className={cn(
        "flex items-center justify-center",
        isTitleVisible && "gap-2",
        className
      )}
      onClick={onClick}
      type="button"
    >
      {content}
    </button>
  );
};

export { Logo };
